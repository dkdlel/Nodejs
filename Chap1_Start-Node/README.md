# 1장 노드 시작하기
[공식 사이트](https://nodejs.org/ko/)     
[공식 사이트의 가이드](https://nodejs.org/ko/docs/guides/)     
[전반적인 설명](https://nodejs.dev/)

## Node.js란?
Node.js는 Chrome V8 Javascript 엔진으로 빌드된 Javascript 런타임입니다.

## 서버와 클라이언트
* 서버란?     
`네트워크를 통해 클라이언트에 정보나 서비스를 제공하는 컴퓨터 또는 프로그램`
* 클라이언트란?     
`요청을 보내는 주체로 브라우저일 수도 있고, 모바일 앱일 수도 있고, 다른 서버에 요청을 보내는 서버일 수도 있습니다.`

## 자바스크립트 런타임
* 노드는 자바스크립트의 런타임이다.
* 런타임이란?     
`특정 언어로 만든 프로그램들을 실행할 수 있는 환경`

## 이벤트 기반
* 이벤트 기반이란?     
`이벤트가 발생할 때 미리 지정해둔 작업을 수행하는 방식`
* 특정 이벤트가 발생할 때 무엇을 할지 미리 등록하는 것을 이벤트 리스너(event listener)에 콜백 함수(callback)를 등록한다 라고 표현함
* 이벤트 루프(event loop)
```
이벤트 발생 시 호출할 콜백 함수들을 관리, 호출된 콜백 함수의 실행 순서를 결정하는 역할을 담당     
노드가 종료될 때까지 이벤트 처리를 위한 작업을 반복하므로 루프(loop)라고 부름
```
* 백드라운드
```
setTimeout 같은 타이머나 이벤트 리스너들이 대기하는 곳     
여러 작업이 동시에 실행될 수 있음     
자바스크립트가 아닌 다른 언어로 작성된 프로그램이라고 봐도 무방
```
* 테스트 큐
```
이벤트 발생 후, 백그라운드에서는 태스크 큐로 타이머나 이벤트 리스너의 콜백함수를 보냄     
콜백들은 보통 완료된 순서대로 줄을 서 있지만 특정한 경우에는 순서가 바뀌기도 함     
정해진 순서대로 콜백들이 줄을 서 있으므로 콜백 큐라고도 부름
```

## 논 블로킹 I/O
* 논 블로킹이란?     
`이전 작업이 완료될 때까지 대기하지 않고 다음 작업을 수행하는 것`
* 블로킹이란?     
`이전 작업이 끝나야만 다음 작업을 수행하는 것`

## 싱글 스레드
`스레드가 하나뿐이라는 것을 의미`
* 프로세스 vs 스레드
```
프로세스란?     
운영체제에서 할당하는 작업의 단위     
프로세스 간에는 메모리 등의 자원을 공유하지 않음     

스레드란?     
프로세스 내에서 실행되는 흐름의 단위     
프로세스는 스레드를 여러 개 생성해 여러 작업을 동시에 처리할 수 있음     
스레드들은 부모 프로세스의 자원을 공유     
같은 주소의 메모리에 접근 가능하므로 데이터를 공유할 수 있음     
```
* 프로세스 내부에 여러개의 스레드를 생성하지만 직접 제어할 수 있는 스레드는 하나뿐이라서 노드가 싱글 스레드라고 여겨짐

* 멀티 스레딩 vs 멀티 프로세싱

|멀티 스레딩|멀티 프로세싱|
|:---:|:---:|
|하나의 프로세스 안에서 여러 개의 스레드 사용|여러 개의 프로세스 사용|
|CPU 작업이 많을 때 사용|I/O 요청이 많을 때 사용|
|프로그래밍이 어려움|프로그래밍이 비교적 쉬움|

## 서버로서의 노드
* 노드의 장단점

|장점|단점|
|:---:|:---:|
|멀티 스레드 방식에 비해 적은 컴퓨터 자원 사용|기본적으로 싱글 스레드라서 CPU 코어를 하나만 사용|
|I/O 작업이 많은 서버로 적합|CPU 작업이 많은 서버로는 부적합|
|멀티 스레드 방식보다 쉬움|하나뿐인 스레드가 멈추지 않도록 관리가 필요함|
|웹 서버가 내장되어 있음|서버 규모가 커졌을 떄 서버를 관리하기 어려움|
|자바스크립트를 사용함|어중간한 성능|
|JSON 형식과 쉽게 호환됨||

* 노드 서버의 장단점은 싱글 스레드, 논 블로킹 모델의 장단점과 크게 다르지 않음
* 노드는 CPU 부하가 큰 작업에는 적합하지 않음 / 개수는 많지만 크기는 작은 데이터를 실시간으로 주고받는데 적합 / 단일 스레드로 동작
 - 멀티 스레드 기능이 있지만 사용하고 싶다면 AWS 람다 또는 클라우드 펑션스 같은 서비스에서 노드로 CPU를 많이 사용하는 작업을 처리

